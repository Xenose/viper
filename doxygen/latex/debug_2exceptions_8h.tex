\doxysection{include/viper/debug/exceptions.h File Reference}
\hypertarget{debug_2exceptions_8h}{}\label{debug_2exceptions_8h}\index{include/viper/debug/exceptions.h@{include/viper/debug/exceptions.h}}
{\ttfamily \#include $<$viper/macros/include.\+h$>$}\newline
{\ttfamily \#include $<$setjmp.\+h$>$}\newline
{\ttfamily \#include $<$signal.\+h$>$}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{debug_2exceptions_8h_a608e0de862d4d434fb5d3ceb2827e74e}{Viper\+Try}}~signal(SIGSEGV, \&\mbox{\hyperlink{debug_2exceptions_8h_abfa1c6c96dcbe26bfb58741e5040cebf}{\+\_\+\+\_\+\+Viper\+Internal\+Signal\+Handler}}); if (0 == sigsetjmp(\mbox{\hyperlink{debug_2exceptions_8h_a3db5f873117bf0ee1adcbec401899487}{\+\_\+\+\_\+viper\+Jump\+Buffers}}\mbox{[}++\mbox{\hyperlink{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}{\+\_\+\+\_\+viper\+Jump\+Index}}\mbox{]}, 1))
\begin{DoxyCompactList}\small\item\em This macro function will set the jump buffer to the current line or if the signal/throw was called it will return false and continue to Viper\+Catch. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{debug_2exceptions_8h_add5d0eb1e6cf7cd0d4200f606ab2afc0}{Viper\+Catch}}~else if (-\/2 == \mbox{\hyperlink{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}{\+\_\+\+\_\+viper\+Jump\+Index}}-\/-\/) \{ \mbox{\hyperlink{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}{\+\_\+\+\_\+viper\+Jump\+Index}}++; \} else
\begin{DoxyCompactList}\small\item\em Viper\+Catch will return if either a signal or throw was used, the if before this should never be executed it is just a way to update the index without any extra macros. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{debug_2exceptions_8h_a5fea538fc7df68130d534044847ab8f4}{Viper\+Throw}}()~siglongjmp(\mbox{\hyperlink{debug_2exceptions_8h_a3db5f873117bf0ee1adcbec401899487}{\+\_\+\+\_\+viper\+Jump\+Buffers}}\mbox{[}\mbox{\hyperlink{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}{\+\_\+\+\_\+viper\+Jump\+Index}}\mbox{]}, -\/1);
\begin{DoxyCompactList}\small\item\em Viper\+Throw is used when you want to throw and error, longjmp will be called and you can log the error. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{debug_2exceptions_8h_abfa1c6c96dcbe26bfb58741e5040cebf}{\+\_\+\+\_\+\+Viper\+Internal\+Signal\+Handler}} (int sig)
\begin{DoxyCompactList}\small\item\em Internal signal handler for exceptions, it will recive signals and then excute a long jump to the previous function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\+\_\+\+\_\+thread int \mbox{\hyperlink{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}{\+\_\+\+\_\+viper\+Jump\+Index}}
\begin{DoxyCompactList}\small\item\em Thread local varible to store the current try/catch index. \end{DoxyCompactList}\item 
\+\_\+\+\_\+thread sigjmp\+\_\+buf \mbox{\hyperlink{debug_2exceptions_8h_a3db5f873117bf0ee1adcbec401899487}{\+\_\+\+\_\+viper\+Jump\+Buffers}} \mbox{[}256\mbox{]}
\begin{DoxyCompactList}\small\item\em The buffers holding the information to restore the function flow. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{debug_2exceptions_8h_add5d0eb1e6cf7cd0d4200f606ab2afc0}\label{debug_2exceptions_8h_add5d0eb1e6cf7cd0d4200f606ab2afc0} 
\index{exceptions.h@{exceptions.h}!ViperCatch@{ViperCatch}}
\index{ViperCatch@{ViperCatch}!exceptions.h@{exceptions.h}}
\doxysubsubsection{\texorpdfstring{ViperCatch}{ViperCatch}}
{\footnotesize\ttfamily \#define Viper\+Catch~else if (-\/2 == \mbox{\hyperlink{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}{\+\_\+\+\_\+viper\+Jump\+Index}}-\/-\/) \{ \mbox{\hyperlink{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}{\+\_\+\+\_\+viper\+Jump\+Index}}++; \} else}



Viper\+Catch will return if either a signal or throw was used, the if before this should never be executed it is just a way to update the index without any extra macros. 



Definition at line \mbox{\hyperlink{debug_2exceptions_8h_source_l00029}{29}} of file \mbox{\hyperlink{debug_2exceptions_8h_source}{exceptions.\+h}}.

\Hypertarget{debug_2exceptions_8h_a5fea538fc7df68130d534044847ab8f4}\label{debug_2exceptions_8h_a5fea538fc7df68130d534044847ab8f4} 
\index{exceptions.h@{exceptions.h}!ViperThrow@{ViperThrow}}
\index{ViperThrow@{ViperThrow}!exceptions.h@{exceptions.h}}
\doxysubsubsection{\texorpdfstring{ViperThrow}{ViperThrow}}
{\footnotesize\ttfamily \#define Viper\+Throw(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~siglongjmp(\mbox{\hyperlink{debug_2exceptions_8h_a3db5f873117bf0ee1adcbec401899487}{\+\_\+\+\_\+viper\+Jump\+Buffers}}\mbox{[}\mbox{\hyperlink{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}{\+\_\+\+\_\+viper\+Jump\+Index}}\mbox{]}, -\/1);}



Viper\+Throw is used when you want to throw and error, longjmp will be called and you can log the error. 



Definition at line \mbox{\hyperlink{debug_2exceptions_8h_source_l00035}{35}} of file \mbox{\hyperlink{debug_2exceptions_8h_source}{exceptions.\+h}}.

\Hypertarget{debug_2exceptions_8h_a608e0de862d4d434fb5d3ceb2827e74e}\label{debug_2exceptions_8h_a608e0de862d4d434fb5d3ceb2827e74e} 
\index{exceptions.h@{exceptions.h}!ViperTry@{ViperTry}}
\index{ViperTry@{ViperTry}!exceptions.h@{exceptions.h}}
\doxysubsubsection{\texorpdfstring{ViperTry}{ViperTry}}
{\footnotesize\ttfamily \#define Viper\+Try~signal(SIGSEGV, \&\mbox{\hyperlink{debug_2exceptions_8h_abfa1c6c96dcbe26bfb58741e5040cebf}{\+\_\+\+\_\+\+Viper\+Internal\+Signal\+Handler}}); if (0 == sigsetjmp(\mbox{\hyperlink{debug_2exceptions_8h_a3db5f873117bf0ee1adcbec401899487}{\+\_\+\+\_\+viper\+Jump\+Buffers}}\mbox{[}++\mbox{\hyperlink{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}{\+\_\+\+\_\+viper\+Jump\+Index}}\mbox{]}, 1))}



This macro function will set the jump buffer to the current line or if the signal/throw was called it will return false and continue to Viper\+Catch. 

\begin{DoxyNote}{Note}
Currently used signals are \+: SIGSEGV 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{debug_2exceptions_8h_source_l00021}{21}} of file \mbox{\hyperlink{debug_2exceptions_8h_source}{exceptions.\+h}}.



\doxysubsection{Function Documentation}
\Hypertarget{debug_2exceptions_8h_abfa1c6c96dcbe26bfb58741e5040cebf}\label{debug_2exceptions_8h_abfa1c6c96dcbe26bfb58741e5040cebf} 
\index{exceptions.h@{exceptions.h}!\_\_ViperInternalSignalHandler@{\_\_ViperInternalSignalHandler}}
\index{\_\_ViperInternalSignalHandler@{\_\_ViperInternalSignalHandler}!exceptions.h@{exceptions.h}}
\doxysubsubsection{\texorpdfstring{\_\_ViperInternalSignalHandler()}{\_\_ViperInternalSignalHandler()}}
{\footnotesize\ttfamily void \+\_\+\+\_\+\+Viper\+Internal\+Signal\+Handler (\begin{DoxyParamCaption}\item[{int}]{sig }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Internal signal handler for exceptions, it will recive signals and then excute a long jump to the previous function. 


\begin{DoxyParams}{Parameters}
{\em sig} & \+:: signal\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This function will restore the libraray signal handler acfter execution. 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{exceptions_8c_source_l00029}{29}} of file \mbox{\hyperlink{exceptions_8c_source}{exceptions.\+c}}.



References \mbox{\hyperlink{exceptions_8c_source_l00016}{\+\_\+\+\_\+viper\+Jump\+Buffers}}, \mbox{\hyperlink{exceptions_8c_source_l00011}{\+\_\+\+\_\+viper\+Jump\+Index}}, and \mbox{\hyperlink{signal__handler_8c_source_l00030}{Viper\+Init\+Signal\+Handler()}}.



\doxysubsection{Variable Documentation}
\Hypertarget{debug_2exceptions_8h_a3db5f873117bf0ee1adcbec401899487}\label{debug_2exceptions_8h_a3db5f873117bf0ee1adcbec401899487} 
\index{exceptions.h@{exceptions.h}!\_\_viperJumpBuffers@{\_\_viperJumpBuffers}}
\index{\_\_viperJumpBuffers@{\_\_viperJumpBuffers}!exceptions.h@{exceptions.h}}
\doxysubsubsection{\texorpdfstring{\_\_viperJumpBuffers}{\_\_viperJumpBuffers}}
{\footnotesize\ttfamily \+\_\+\+\_\+thread sigjmp\+\_\+buf \+\_\+\+\_\+viper\+Jump\+Buffers\mbox{[}256\mbox{]}\hspace{0.3cm}{\ttfamily [extern]}}



The buffers holding the information to restore the function flow. 

\begin{DoxyNote}{Note}
A buffer 256 should be enough for any unit tests. 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{exceptions_8c_source_l00016}{16}} of file \mbox{\hyperlink{exceptions_8c_source}{exceptions.\+c}}.



Referenced by \mbox{\hyperlink{exceptions_8c_source_l00029}{\+\_\+\+\_\+\+Viper\+Internal\+Signal\+Handler()}}.

\Hypertarget{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde}\label{debug_2exceptions_8h_a835e1329969df0e5349ff3b137114fde} 
\index{exceptions.h@{exceptions.h}!\_\_viperJumpIndex@{\_\_viperJumpIndex}}
\index{\_\_viperJumpIndex@{\_\_viperJumpIndex}!exceptions.h@{exceptions.h}}
\doxysubsubsection{\texorpdfstring{\_\_viperJumpIndex}{\_\_viperJumpIndex}}
{\footnotesize\ttfamily \+\_\+\+\_\+thread int \+\_\+\+\_\+viper\+Jump\+Index\hspace{0.3cm}{\ttfamily [extern]}}



Thread local varible to store the current try/catch index. 



Definition at line \mbox{\hyperlink{exceptions_8c_source_l00011}{11}} of file \mbox{\hyperlink{exceptions_8c_source}{exceptions.\+c}}.



Referenced by \mbox{\hyperlink{exceptions_8c_source_l00029}{\+\_\+\+\_\+\+Viper\+Internal\+Signal\+Handler()}}.

