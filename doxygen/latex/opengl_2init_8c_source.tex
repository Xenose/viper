\doxysection{init.\+c}
\hypertarget{opengl_2init_8c_source}{}\label{opengl_2init_8c_source}\index{source/opengl/init.c@{source/opengl/init.c}}
\mbox{\hyperlink{opengl_2init_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{types_8h}{viper/types.h}}"{}}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{types_2models_8h}{viper/types/models.h}}"{}}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <GLFW/glfw3.h>}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00004}00004\ \textcolor{preprocessor}{\#include<\mbox{\hyperlink{logger_8h}{viper/debug/logger.h}}>}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00005}00005\ \textcolor{preprocessor}{\#include<\mbox{\hyperlink{opengl_2init_8h}{viper/opengl/init.h}}>}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00016}\mbox{\hyperlink{opengl_2init_8h_ab3d7cebd5b963f78d9c6c7d2e0bc844c}{00016}}\ int64\_t\ \mbox{\hyperlink{opengl_2init_8c_ab3d7cebd5b963f78d9c6c7d2e0bc844c}{ViperOpenGLInit}}(\mbox{\hyperlink{struct____ViperApplication__t}{ViperApplication\_t}}*\ app,\ \mbox{\hyperlink{structViperOpenGL__t}{ViperOpenGL\_t}}*\ gl)\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00017}00017\ \ \ \ \ \mbox{\hyperlink{logger_8h_a7571e212356ea06899894b48d8c0d00b}{ViperLogDebug}}(\textcolor{stringliteral}{"{}Starting\ OpenGL"{}});}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00019}00019\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ gl)\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00020}00020\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a2c0fdd1051ba2ee35314f5db17bc65d5}{opengl}})\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00021}00021\ \ \ \ \ \ \ \ \ \ \ \ \ app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a2c0fdd1051ba2ee35314f5db17bc65d5}{opengl}}\ =\ calloc(1,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structViperOpenGL__t}{ViperOpenGL\_t}}));}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00023}00023\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a2c0fdd1051ba2ee35314f5db17bc65d5}{opengl}})\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00024}00024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8h_a2ff2a5cee8d0a4833468785e801af403}{ViperLogError}}(\textcolor{stringliteral}{"{}Failed\ to\ allocate\ Vulkan\_t"{}});}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00025}00025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ ERROR\_EXIT;}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00027}00027\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00029}00029\ \ \ \ \ \ \ \ \ gl\ =\ app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a2c0fdd1051ba2ee35314f5db17bc65d5}{opengl}};}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00031}00031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structs_8h_a16af7b253440dadd46a80a4b9fddba4da5becd3341e979b059148bc8f46dc8ab3}{VIPER\_STRUCTURE\_TYPE\_UNKOWN}}\ ==\ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_a07c58991988b3ac3d47d06ad72cfb408}{sType}})\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_a07c58991988b3ac3d47d06ad72cfb408}{sType}}\ =\ \mbox{\hyperlink{structs_8h_a16af7b253440dadd46a80a4b9fddba4dae9320f248051afaaecb3ced7f0dacda0}{VIPER\_STRUCTURE\_TYPE\_OPENGL}};}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00033}00033\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00035}00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a10623b6ca6dca547b1e2cd22da1f8c6e}{name}}.\mbox{\hyperlink{structViperString__t_a91a70b77df95bd8b0830b49a094c2acb}{data}}\ ||\ 0\ ==\ app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a10623b6ca6dca547b1e2cd22da1f8c6e}{name}}.\mbox{\hyperlink{structViperString__t_a386a3a5adc6cdeb2f1083b3c3d08e7d0}{bytes}})\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8h_a2ff2a5cee8d0a4833468785e801af403}{ViperLogError}}(\textcolor{stringliteral}{"{}Application\_t\ name\ not\ set"{}});}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00038}00038\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00047}00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (0\ ==\ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_ac7732197fcb794fdb89d78799ac6b5b8}{dimensionsWindow}}.\mbox{\hyperlink{structViperVectorInt2__t_a040359f45343ce6667f5c66fda5f50e3}{x}}\ ||\ 0\ ==\ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_ac7732197fcb794fdb89d78799ac6b5b8}{dimensionsWindow}}.\mbox{\hyperlink{structViperVectorInt2__t_a0cbcba26311a97b8e0763317e105a918}{y}})\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_ac7732197fcb794fdb89d78799ac6b5b8}{dimensionsWindow}}.\mbox{\hyperlink{structViperVectorInt2__t_a040359f45343ce6667f5c66fda5f50e3}{x}}\ =\ 1920;}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_ac7732197fcb794fdb89d78799ac6b5b8}{dimensionsWindow}}.\mbox{\hyperlink{structViperVectorInt2__t_a0cbcba26311a97b8e0763317e105a918}{y}}\ =\ 1080;}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00050}00050\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00051}00051\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00053}00053\ \ \ \ \ \textcolor{keywordflow}{if}\ (!glfwInit())\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00054}00054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8h_a2ff2a5cee8d0a4833468785e801af403}{ViperLogError}}(\textcolor{stringliteral}{"{}glfwInit\ failed"{}});}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00055}00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ ERROR\_EXIT;}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00056}00056\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00058}00058\ \ \ \ \ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_aa1a8b88ecd56d9f4e7edd9f015d03b25}{window}}.\mbox{\hyperlink{structViperGLFWwindow__t_a392bc3e0b9b5f8d6a899f06b85fbaeff}{data}}\ =\ glfwCreateWindow(}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_ac7732197fcb794fdb89d78799ac6b5b8}{dimensionsWindow}}.\mbox{\hyperlink{structViperVectorInt2__t_a040359f45343ce6667f5c66fda5f50e3}{x}},\ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_ac7732197fcb794fdb89d78799ac6b5b8}{dimensionsWindow}}.\mbox{\hyperlink{structViperVectorInt2__t_a0cbcba26311a97b8e0763317e105a918}{y}},}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a10623b6ca6dca547b1e2cd22da1f8c6e}{name}}.\mbox{\hyperlink{structViperString__t_a91a70b77df95bd8b0830b49a094c2acb}{data}},\ NULL,\ NULL);}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00062}00062\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ gl-\/>\mbox{\hyperlink{structViperOpenGL__t_aa1a8b88ecd56d9f4e7edd9f015d03b25}{window}}.\mbox{\hyperlink{structViperGLFWwindow__t_a392bc3e0b9b5f8d6a899f06b85fbaeff}{data}})\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00063}00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8h_a2ff2a5cee8d0a4833468785e801af403}{ViperLogError}}(\textcolor{stringliteral}{"{}Failed\ to\ create\ OpenGL\ Window"{}});}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00064}00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ ERROR\_EXIT;}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00065}00065\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00067}00067\ \ \ \ \ glfwMakeContextCurrent(gl-\/>\mbox{\hyperlink{structViperOpenGL__t_aa1a8b88ecd56d9f4e7edd9f015d03b25}{window}}.\mbox{\hyperlink{structViperGLFWwindow__t_a392bc3e0b9b5f8d6a899f06b85fbaeff}{data}});}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00069}00069\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00070}00070\ ERROR\_EXIT:}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00071}00071\ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00072}00072\ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00074}\mbox{\hyperlink{opengl_2init_8h_a70a2ceac357be902f7f570b50af5babd}{00074}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{opengl_2init_8c_a70a2ceac357be902f7f570b50af5babd}{ViperRenderLoopOpenGL}}(\mbox{\hyperlink{struct____ViperApplication__t}{ViperApplication\_t}}*\ app)\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00075}00075\ \ \ \ \ \textcolor{keywordflow}{if}\ (glfwWindowShouldClose(app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a2c0fdd1051ba2ee35314f5db17bc65d5}{opengl}}-\/>\mbox{\hyperlink{structViperOpenGL__t_aa1a8b88ecd56d9f4e7edd9f015d03b25}{window}}.\mbox{\hyperlink{structViperGLFWwindow__t_a392bc3e0b9b5f8d6a899f06b85fbaeff}{data}}))\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00076}00076\ \ \ \ \ \ \ \ \ app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a95bde4ad5bd963a0234be5b5ac6a03dc}{status}}\ =\ \mbox{\hyperlink{types_8h_adf764cbdea00d65edcd07bb9953ad2b7ad641da61b25cbb3f4811398d4e32d2c5}{VIPER\_APPLICATION\_STATUS\_EXIT}};}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00077}00077\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00079}00079\ \ \ \ \ glfwSwapBuffers(app-\/>\mbox{\hyperlink{struct____ViperApplication__t_a2c0fdd1051ba2ee35314f5db17bc65d5}{opengl}}-\/>\mbox{\hyperlink{structViperOpenGL__t_aa1a8b88ecd56d9f4e7edd9f015d03b25}{window}}.\mbox{\hyperlink{structViperGLFWwindow__t_a392bc3e0b9b5f8d6a899f06b85fbaeff}{data}});}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00080}00080\ \ \ \ \ glClear(GL\_COLOR\_BUFFER\_BIT);}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00081}00081\ \}}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00083}\mbox{\hyperlink{opengl_2init_8c_aed759896d1cc68987733e26cbd540c85}{00083}}\ int8\_t\ \mbox{\hyperlink{opengl_2init_8c_aed759896d1cc68987733e26cbd540c85}{ViperLoadModelOpenGL}}(\mbox{\hyperlink{struct____ViperApplication__t}{ViperApplication\_t}}*\ app,\ \mbox{\hyperlink{structViperModel__t}{ViperModel\_t}}\ \textcolor{keyword}{const}*\ model)\ \{}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00084}00084\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{opengl_2init_8c_source_l00085}00085\ \}}

\end{DoxyCode}
