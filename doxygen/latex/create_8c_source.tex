\doxysection{create.\+c}
\hypertarget{create_8c_source}{}\label{create_8c_source}\index{source/memory/create.c@{source/memory/create.c}}
\mbox{\hyperlink{create_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{memory_2utils_8h}{viper/memory/utils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{types_8h}{viper/types.h}}"{}}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{str_8h}{viper/types/str.h}}"{}}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00004}00004\ \textcolor{preprocessor}{\#include<\mbox{\hyperlink{create_8h}{viper/memory/create.h}}>}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00005}00005\ \textcolor{preprocessor}{\#include<\mbox{\hyperlink{stringer_8h}{viper/utils/stringer.h}}>}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00006}00006\ \textcolor{preprocessor}{\#include<\mbox{\hyperlink{application_8h}{viper/application/application.h}}>}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00008}\mbox{\hyperlink{create_8h_ac3573c464c7d24d6574ad7cc15d658a4}{00008}}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{create_8c_ac3573c464c7d24d6574ad7cc15d658a4}{ViperCreate}}(int64\_t\ type,\ \textcolor{keywordtype}{void}*\ ptr,\ ...)\ \{}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00009}00009\ \ \ \ \ \textcolor{keywordtype}{int}\ returnCode\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00010}00010\ \ \ \ \ va\_list\ args;}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00011}00011\ \ \ \ \ \mbox{\hyperlink{structViperGenericStruct__t}{ViperGenericStruct\_t}}*\ gen\ =\ ptr;}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00012}00012\ \ \ \ \ type\ =\ (\mbox{\hyperlink{structs_8h_a16af7b253440dadd46a80a4b9fddba4da5becd3341e979b059148bc8f46dc8ab3}{VIPER\_STRUCTURE\_TYPE\_UNKOWN}}\ ==\ type\ ?\ gen-\/>\mbox{\hyperlink{structViperGenericStruct__t_a07c58991988b3ac3d47d06ad72cfb408}{sType}}\ :\ type);}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00014}00014\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structs_8h_a16af7b253440dadd46a80a4b9fddba4da5becd3341e979b059148bc8f46dc8ab3}{VIPER\_STRUCTURE\_TYPE\_UNKOWN}}\ ==\ type)\ \{}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00015}00015\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ ERROR\_EXIT;}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00016}00016\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00018}00018\ \ \ \ \ va\_start(args,\ ptr);}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00020}00020\ \ \ \ \ \textcolor{keywordflow}{if}\ (NULL\ ==\ ptr)\ \{\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00021}00021\ \ \ \ \ \ \ \ \ ptr\ =\ gen\ =\ calloc(1,\ \mbox{\hyperlink{memory_2utils_8h_a540f2cce4216179044833f4fadd611c7}{ViperGetStructureSize}}(type));}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00022}00022\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00024}00024\ \ \ \ \ \textcolor{keywordflow}{switch}\ (type)\ \{}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00025}00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structs_8h_a16af7b253440dadd46a80a4b9fddba4da263840eef510d299cab24f62a55586ab}{VIPER\_STRUCTURE\_TYPE\_STRING}}:}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ returnCode\ =\ \mbox{\hyperlink{stringer_8h_a3fa85487883e41001fab7582106f6596}{ViperStringCreate}}(ptr,\ va\_arg(args,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*));}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00027}00027\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00028}00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structs_8h_a16af7b253440dadd46a80a4b9fddba4dabc211ce419ec03d21f394a1bb5cbf542}{VIPER\_STRUCTURE\_TYPE\_APPLICATION}}:}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ returnCode\ =\ \mbox{\hyperlink{application_8h_a838a4158c52377694eb2c7954a2d8ccb}{ViperApplicationCreate}}(ptr,\ va\_arg(args,\ \mbox{\hyperlink{structViperApplicationCreateInfo__t}{ViperApplicationCreateInfo\_t}}*));}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00031}00031\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00033}00033\ \ \ \ \ va\_end(args);}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00034}00034\ \ \ \ \ \textcolor{keywordflow}{return}\ ptr;}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00035}00035\ ERROR\_EXIT:}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00036}00036\ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00037}00037\ \}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00039}\mbox{\hyperlink{create_8h_a87b8ab2f287025c3f8e45e0c3903563b}{00039}}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{create_8c_a87b8ab2f287025c3f8e45e0c3903563b}{ViperDelete}}(\textcolor{keywordtype}{void}*\ ptr)\ \{}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00040}00040\ \ \ \ \ \mbox{\hyperlink{structViperGenericStruct__t}{ViperGenericStruct\_t}}*\ gen\ =\ ptr;}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00042}00042\ \ \ \ \ \textcolor{keywordflow}{switch}\ (atomic\_load(\&gen-\/>\mbox{\hyperlink{structViperGenericStruct__t_a07c58991988b3ac3d47d06ad72cfb408}{sType}}))\ \{}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structs_8h_a16af7b253440dadd46a80a4b9fddba4da263840eef510d299cab24f62a55586ab}{VIPER\_STRUCTURE\_TYPE\_STRING}}:}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stringer_8h_a3dfbe3be574835e49cf94e3b5fca1888}{ViperStringDelete}}(ptr);}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ ERROR\_EXIT;}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00048}00048\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{create_8c_source_l00050}00050\ ERROR\_EXIT:}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00051}00051\ \ \ \ \ \textcolor{keywordflow}{return}\ ptr;}
\DoxyCodeLine{\Hypertarget{create_8c_source_l00052}00052\ \}}

\end{DoxyCode}
